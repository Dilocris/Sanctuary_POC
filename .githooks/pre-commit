#!/usr/bin/env bash
set -euo pipefail

if command -v pwsh >/dev/null 2>&1; then
  PS_BIN="pwsh"
elif command -v powershell >/dev/null 2>&1; then
  PS_BIN="powershell"
else
  echo "PowerShell not found; cannot run GDScript sanity gate."
  exit 1
fi

"$PS_BIN" -NoProfile -ExecutionPolicy Bypass -File "scripts/dev/check_gdscript_sanity.ps1" -Root "." -StagedOnly
